<%= render  "navbar" %>
<h1 class="text-center text-3xl my-4">Vid√©os</h1>
    <button
    class="mb-2 md:mb-0 bg-green-900 px-5 ml-6 my-3 py-2 shadow-sm tracking-wider text-white rounded-full hover:bg-green-700"
    type="button" aria-label="like">Ajouter une video</button>
<div class="relative min-h-screen flex flex-col mt-8 ">
    <div class="grid gap-8 grid-cols-1 md:grid-cols-2 xl:grid-cols-2">
        <% @videos.each do |video| %>
        <div class="flex flex-col ">
            <div class="bg-white shadow-md  rounded-3xl p-4">
                <div class="flex-none lg:flex">
                    <div class=" h-full w-full lg:h-48 lg:w-48   lg:mb-0 mb-3">
                        <% videokey = video.url.match(/[v]\D(\w+)/) %>
                        <iframe src='<%= "https://www.#{video.provider}.com/embed/#{videokey[1]}"%>' class=" w-full  object-scale-down lg:object-cover  lg:h-48 rounded-2xl" frameborder="0"></iframe>
                    </div>
                    <div class="flex-auto ml-3 justify-evenly py-2">
                        <div class="flex flex-wrap ">
                            <h2 class="flex-auto text-lg font-medium"><%= video.title %></h2>
                        </div>
                        <p class="mt-3"></p>
                        <div class="flex py-4  text-sm text-gray-600">
                            
                            <div class="flex-1 inline-flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <p class=""><%= video.created_at %></p>
                            </div>
                        </div>
                        <div class="flex p-4 pb-2 border-t border-gray-200 "></div>
                        <div class="flex space-x-3 text-sm color-green-600 font-medium">
                            <div class="flex-auto flex space-x-3">
                                <button
                                    class="mb-2 md:mb-0 bg-white  px-5 py-2 shadow-sm tracking-wider border  border-red-700 text-gray-600 rounded-full hover:bg-gray-100 inline-flex items-center space-x-2 ">
                                <% if video.provider == "youtube" %>
                                    <span class="text-green-400 text-xl hover:text-green-500 rounded-lg">
                                        <%= image_tag "youtube", class: "svg-inline--fa fa-shopify  w-5 h-5 text-white" %>
                                    </span>
                                <% else %>
                                <% end %>
                                    <span><%= video.provider.capitalize %></span>
                                </button>
                            </div>
                            <button
                                class="mb-2 md:mb-0 bg-red-900 px-5 py-2 shadow-sm tracking-wider text-white rounded-full hover:bg-red-700"
                                type="button" aria-label="like">Supprimer la video</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <% end %>
    </div>
</div>